<div class="container">
  <div *ngIf="success" class="alert alert-success alert-dismissible">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Payment Details Updated Successfully!</strong>
  </div>
  <div *ngIf="!editable" class="row pt-5">
    <div class="col-md-8 mx-auto">
      <div class="card">
        <div class="card-header text-center">
          <h4>
            Payment Details
          </h4>
        </div>
        <div class="card-body">
          <table class="table">
            <tr>
              <th>
                Card Type
              </th>
              <th>
                Card Number
              </th>
              <th>
                Expiry Date
              </th>
              <th>
                CVV
              </th>
              <th>
                Update
              </th>
            </tr>
            <tr>
              <td>
                <app-skeleton-loader *ngIf="!loaded" class="d-flex justify-content-center" Cwidth="100" Cheight="30"></app-skeleton-loader>
                <span *ngIf="loaded">{{payment_details.card_type}} </span>
              </td>
              <td>
                <app-skeleton-loader *ngIf="!loaded" class="d-flex justify-content-center" Cwidth="100" Cheight="30"></app-skeleton-loader>
                <span *ngIf="loaded"> {{payment_details.card_number}} </span>
              </td>
              <td>
                <app-skeleton-loader *ngIf="!loaded" class="d-flex justify-content-center" Cwidth="100" Cheight="30"></app-skeleton-loader>
                <span *ngIf="loaded"> {{payment_details.expiry}} </span>
              </td>
              <td>
                <app-skeleton-loader *ngIf="!loaded" class="d-flex justify-content-center" Cwidth="100" Cheight="30"></app-skeleton-loader>
                <span *ngIf="loaded"> {{payment_details.cvv}} </span>
              </td>
              <td>
                <app-skeleton-loader *ngIf="!loaded" class="d-flex justify-content-center" Cwidth="40" Cheight="40"></app-skeleton-loader>
                <button *ngIf="loaded" (click)="editable=true;success=false" class="btn btn-primary d-flex justify-content-center"><i class="fa fa-pencil" aria-hidden="true"></i></button>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="editable" class="row pt-5 pb-5">
    <div class="col-md-8 mx-auto">
      <div class="card rounded-0">
        <div class="card-header bg-light">
          <h3 class="mb-0">Update Bank Details</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="payment_form" novalidate (ngSubmit)="updatePaymentDetails()" class="form">
            <div formGroupName="payment_details">
              <div class="form-group">
                <label for="">Card Type</label>
                <select class="custom-select" formControlName="card_type">
                  <option value="">Choose Card Type</option>
                  <option *ngFor="let cardType of cardTypes" [ngValue]="cardType">{{cardType}}</option>
               </select>
              </div>

              <div class="form-group">
                <label for="">Card Number</label>
                <input type="number" class="form-control" formControlName="card_number">
              </div>

              <div class="form-group">
                <label for="">Expiry</label>
                <input type="text" class="form-control" formControlName="expiry">
              </div>

              <div class="form-group">
                <label for="">CVV</label>
                <input type="text" class="form-control" formControlName="cvv">
              </div>
            </div>
            <button class="btn btn-warning ml-2">Update</button>
            <button class="btn btn-warning ml-2" (click)="editable=false">Close</button>
          </form>
        </div>
      </div>
    </div>
  </div>

</div>
